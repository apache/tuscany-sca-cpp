Building Tuscany SCA samples on Linux
=====================================

If using the binary distribution the samples are built and installed in
<tuscany_sca_install_dir>/samples

1. The following environment variables are required:
     TUSCANY_SCACPP=<path to installed Tuscany SCA>
     TUSCANY_SDOCPP=<path to installed Tuscany SDO>
     AXIS2C_HOME=<path to axis2c verion 0.92>
   
2. Build the source
     cd <samples_dir>
     ./configure
     make
     make install

     NOTE: If you don't provide a --prefix configure option, it will by default 
           install into /usr/local/tuscany/sca

Running the samples on Linux
============================

Calculator with basic client
----------------------------

1. The following environment variables are required:
     TUSCANY_SCACPP=<path to installed Tuscany SCA>
     TUSCANY_SDOCPP=<path to installed Tuscany SDO>
     AXIS2C_HOME=<path to axis2c verion 0.92>

2. cd <samples_install_dir>/Calculator/deploy/bin

3. ./runclient.sh


Calculator with WS client
-------------------------

1. Deploy the Calculator as an axis2c service
   a) Create a new service folder in axis2:
      <AXIS2C_HOME>/services/Calculator
   b) Copy the <TUSCANY_SCACPP>/samples/Calculator/CalculatorModule/services.xml 
      to <AXIS2C_HOME>/services/Calculator/services.xml
   c) Edit the services xml to set the TuscanySystemRoot parameter to
      <parameter name="TuscanySystemRoot" locked="xsd:false">@TUSCANY_SCACPP@/samples/Calculator/deploy</parameter>
      where @TUSCANY_SCACPP@ is the path to the installed Tuscany SCA
   d) Copy the @TUSCANY_SCACPP@/lib/libtuscany_sca_ws_service.so into
      <AXIS2C_HOME>/services/Calculator

2. Start Axis2C simple http server
   a) cd <AXIS2C_HOME>/bin
   b) The following environment variables are required:
      TUSCANY_SCACPP=<path to installed Tuscany SCA>
      TUSCANY_SDOCPP=<path to installed Tuscany SDO>
      AXIS2C_HOME=<path to axis2c verion 0.92>
   c) add <TUSCANY_SCACPP>/lib, <TUSCANY_SDOCPP>/lib and <AXIS2C_HOME>/lib 
      to the LD_LIBRARY_PATH environment variable 
   d) ./axis2_http_server
      
3. Run the client
   a) export AXIS2C_HOME=<path to axis2c verion 0.92>
   b) cd <samples_install_dir>/Calculator/deploy/bin
   c) ./runwsclient.sh
   

Building Tuscany SCA samples on Windows
=======================================

If using the binary distribution the samples are built and installed in
<tuscany_sca_install_dir>\samples

1. The following environment variables are required:
     TUSCANY_SCACPP=<path to installed Tuscany SCA>
     TUSCANY_SDOCPP=<path to installed Tuscany SDO>
     AXIS2C_HOME=<path to axis2c verion 0.92>
   
2. Build the source, either via the Visual Studio 6 or 7 projects under 
   <tuscany_sca_install_dir>\samples\ides or via the command-line build file
   found at <tuscany_sca_install_dir>\samples\ides\devstudio6\projects\Calculator\build.cmd
   which will build and deploy the samples.


Running the samples on Windows
==============================

Calculator with basic client
----------------------------

1. The following environment variables are required:
     TUSCANY_SCACPP=<path to installed Tuscany SCA>
     TUSCANY_SDOCPP=<path to installed Tuscany SDO>
     AXIS2C_HOME=<path to axis2c verion 0.92>
     TUSCANY_SCACPP_SYSTEM_ROOT=<samples_install_dir>/Calculator/deploy

2. Add the SCA and SDO bin directories and the Axis2C lib directory to the 
   PATH environment variable: 
   PATH=%TUSCANY_SCACPP%\bin;%TUSCANY_SDOCPP%\bin;%AXIS2C_HOME%\lib;%PATH%

3. cd <samples_install_dir>\Calculator\deploy\bin

4. runclient add 5 6
(use also sub, div, mul).



Calculator with WS client
-------------------------

1. Deploy the Calculator as an axis2c service
   a) Create a new service folder in axis2:
      <AXIS2C_HOME>\services\Calculator
   b) Copy the <TUSCANY_SCACPP>\samples\Calculator\CalculatorModule\services.xml
      to <AXIS2C_HOME>\services\Calculator\services.xml
   c) Edit the services xml to set the TuscanySystemRoot parameter to
      <parameter name="TuscanySystemRoot" locked="xsd:false">@TUSCANY_SCACPP@/samples/Calculator/deploy</parameter>
      where >@TUSCANY_SCACPP@ is the path to the installed Tuscany SCA
   d) Copy the tuscany_sca_ws_service.dll (and .pdb if debugging) file(s) to 
      the new services\Calculator directory from the <TUSCANY_SCACPP>\bin 
      directory.

2. Start Axis2C simple http server
   a) cd <AXIS2C_HOME>\bin
   b) The following environment variables are required:
      TUSCANY_SCACPP=<path to installed Tuscany SCA>
      TUSCANY_SDOCPP=<path to installed Tuscany SDO>
      AXIS2C_HOME=<path to axis2c verion 0.92>
   c) Add <TUSCANY_SCACPP>\bin, <TUSCANY_SDOCPP>\bin and <AXIS2C_HOME>\lib to 
      the PATH environment variable 
   d) axis2_http_server
      
3. Run the client
   a) AXIS2C_HOME=<path to axis2c verion 0.92>
   b) cd <samples_install_dir>\Calculator\deploy\bin
   c) runwsclient
   
